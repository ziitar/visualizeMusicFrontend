<div class="music-box">
  <div appRow [gutter]="12" [flex]="true" [flexNowrap]="true">
    <div appCol [md]="16" [xs]="24" class="root-field">root directory:{{ root }}</div>
    <div appCol [md]="8" [xs]="24">
      <input
        type="text"
        style="width: 100%"
        appInput
        [(ngModel)]="searchContent"
        (keydown)="handleResearch($event)"
      />
    </div>
  </div>
  <div appRow [gutter]="12" [flex]="true" [flexNowrap]="true">
    <div appCol [md]="6" [xs]="24">
      <ul class="file-list">
        <li
          *ngFor="let li of library"
          [class.active]="li === activeFile"
          (click)="handleActive(li)"
        >
          {{ li }}
        </li>
      </ul>
    </div>
    <div appCol [md]="6" [xs]="24">
      <div class="file-card">
        <div class="img-wrap">
          <div class="img-box">
            <img [src]="imgUrl" alt="" />
          </div>
        </div>
        <ul>
          <li>歌名：{{ fileID3.title }}</li>
          <li>歌手：{{ fileID3.artist }}</li>
          <li>专辑：{{ fileID3.album }}</li>
          <li>时长：{{ fileID3.comment?.text }}</li>
          <li>年份：{{ fileID3.year }}</li>
          <li>原始年份：{{ fileID3.originalYear }}</li>
          <li>轨道编号：{{ fileID3.trackNumber }}</li>
          <li>发行商：{{ fileID3.publisher }}</li>
        </ul>
        <app-button [handleClick]="deleteCurrentFile">删除此音乐文件</app-button>
        <app-button *ngIf="activeFile" [handleClick]="addCurrentFile"
          >添加音乐文件到数据库</app-button
        >
        <app-button (click)="handlePlay()">播放</app-button>
        <audio [src]="audioSrc" autoplay controls></audio>
      </div>
    </div>
    <div appCol [md]="12" [xs]="24">
      <app-table
        [borderd]="true"
        [data]="songs"
        [small]="true"
        [columns]="columns"
        [columnTemp]="{ operation }"
      >
        <ng-template #operation let-data="data" let-index="index" let-key="key">
          <app-async-click [handleClick]="deleteLibraryFile" [param]="data">
            <span class="delete"></span>
          </app-async-click>
        </ng-template>
      </app-table>
    </div>
  </div>
</div>
